
int ledPins[] = {26,25,33,32,19,18,17,16};
const int HallPin =2 ;

int NUMBER9[]={1,0,0,0,1,1,1,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 1,1,1,1,1,1,1,1};
int NUMBER8[]={0,1,1,1,0,1,1,0, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 0,1,1,1,0,1,1,0};
int NUMBER7[]={0,0,0,0,0,0,0,1, 0,0,0,1,0,0,0,1, 0,0,0,1,0,0,0,1, 1,1,1,1,1,0,0,1, 0,0,0,1,0,1,1,1};
int NUMBER6[]={1,1,1,1,1,1,1,1, 1,0,0,1,0,0,0,1, 1,0,0,1,0,0,0,1, 1,0,0,1,0,0,0,1, 1,1,1,1,0,0,0,1};
int NUMBER5[]={1,0,0,1,1,1,1,1, 1,0,0,1,0,0,0,1, 1,0,0,1,0,0,0,1, 1,0,0,1,0,0,0,1, 1,1,1,1,0,0,0,1};
int NUMBER4[]={0,0,0,1,0,0,0,0, 0,0,0,1,1,0,0,0, 0,0,0,1,0,1,0,0, 0,0,0,1,0,0,1,0, 1,1,1,1,1,1,1,1};
int NUMBER3[]={1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 1,0,0,1,1,0,0,1, 1,0,0,1,1,0,0,1, 1,1,1,1,1,1,1,1};
int NUMBER2[]={1,1,0,0,0,0,0,1, 1,0,1,0,0,0,0,1, 1,0,0,1,0,0,0,1, 1,0,0,0,1,0,0,1, 1,0,0,0,0,1,1,0};
int NUMBER1[]={0,0,0,0,0,1,0,0, 0,0,0,0,0,0,1,0, 1,1,1,1,1,1,1,1, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0};
int NUMBER0[]={1,1,1,1,1,1,1,1, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 1,1,1,1,1,1,1,1};

int _[] = {0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0};
int A[] = {1,1,1,1,1,1,1,1, 0,0,0,0,1,0,0,1, 0,0,0,0,1,0,0,1, 0,0,0,0,1,0,0,1, 1,1,1,1,1,1,1,1};
int B[] = {1,1,1,1,1,1,1,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 0,1,1,1,0,1,1,0};
int C[] = {0,0,1,1,1,1,0,0, 0,1,0,0,0,0,1,0, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1};
int D[] = {1,1,1,1,1,1,1,1, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 0,1,0,0,0,0,1,0, 0,0,1,1,1,1,0,0};
int E[] = {1,1,1,1,1,1,1,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1, 1,0,0,0,1,0,0,1};
int F[] = {1,1,1,1,1,1,1,1, 0,0,0,0,1,0,0,1, 0,0,0,0,1,0,0,1, 0,0,0,0,1,0,0,1, 0,0,0,0,1,0,0,1};
int G[] = {1,1,1,1,1,1,1,0, 1,0,0,0,0,0,0,1, 1,0,0,1,0,0,0,1, 1,0,0,1,0,0,0,1, 0,1,1,1,0,0,0,1};
int H[] = {1,1,1,1,1,1,1,1, 0,0,0,1,0,0,0,0, 0,0,0,1,0,0,0,0, 0,0,0,1,0,0,0,0, 1,1,1,1,1,1,1,1};
int I[] = {1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 1,1,1,1,1,1,1,1, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1};
int J[] = {0,1,1,0,0,0,0,0, 1,0,0,1,0,0,0,0, 1,0,0,0,0,0,0,0, 1,0,0,0,0,0,0,0, 0,1,1,1,1,1,1,1};
int K[] = {1,1,1,1,1,1,1,1, 0,0,0,1,1,0,0,0, 0,0,1,0,0,1,0,0, 0,1,0,0,0,0,1,0, 1,0,0,0,0,0,0,1};
int L[] = {1,1,1,1,1,1,1,1, 1,0,0,0,0,0,0,0, 1,0,0,0,0,0,0,0, 1,0,0,0,0,0,0,0, 1,0,0,0,0,0,0,0};
int M[] = {1,1,1,1,1,1,1,1, 0,0,0,0,0,0,1,0, 0,0,0,0,0,1,0,0, 0,0,0,0,0,0,1,0, 1,1,1,1,1,1,1,1};
int N[] = {1,1,1,1,1,1,1,1, 0,0,0,0,0,1,0,0, 0,0,0,1,1,0,0,0, 0,0,1,0,0,0,0,0, 1,1,1,1,1,1,1,1};
int O[] = {0,1,1,1,1,1,1,0, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 1,0,0,0,0,0,0,1, 0,1,1,1,1,1,1,0};
int P[] = {1,1,1,1,1,1,1,1, 0,0,0,0,1,0,0,1, 0,0,0,0,1,0,0,1, 0,0,0,0,1,0,0,1, 0,0,0,0,0,1,1,0};
int Q[] = {0,1,1,1,1,1,1,0, 1,0,0,0,0,0,0,1, 1,0,1,0,0,0,0,1, 0,1,1,1,1,1,1,0, 1,0,0,0,0,0,0,0};
int R[] = {1,1,1,1,1,1,1,1, 0,0,0,1,1,0,0,1, 0,0,1,0,1,0,0,1, 0,1,0,0,1,0,0,1, 1,0,0,0,0,1,1,0};
int S[] = {1,0,0,0,1,1,1,0, 1,0,0,1,0,0,0,1, 1,0,0,1,0,0,0,1, 1,0,0,1,0,0,0,1, 0,1,1,1,0,0,0,1};
int T[] = {0,0,0,0,0,0,0,1, 0,0,0,0,0,0,0,1, 1,1,1,1,1,1,1,1, 0,0,0,0,0,0,0,1, 0,0,0,0,0,0,0,1};
int U[] = {0,1,1,1,1,1,1,1, 1,0,0,0,0,0,0,0, 1,0,0,0,0,0,0,0, 1,0,0,0,0,0,0,0, 0,1,1,1,1,1,1,1};
int V[] = {0,0,1,1,1,1,1,1, 0,1,0,0,0,0,0,0, 1,0,0,0,0,0,0,0, 0,1,0,0,0,0,0,0, 0,0,1,1,1,1,1,1};
int W[] = {1,1,1,1,1,1,1,1, 0,1,0,0,0,0,0,0, 0,0,1,0,0,0,0,0, 0,1,0,0,0,0,0,0, 1,1,1,1,1,1,1,1};
int X[] = {1,1,0,0,0,0,1,1, 0,0,1,0,0,1,0,0, 0,0,0,1,1,0,0,0, 0,0,1,0,0,1,0,0, 1,1,0,0,0,0,1,1};
int Y[] = {0,0,0,0,0,0,1,1, 0,0,0,0,0,1,0,0, 1,1,1,1,1,0,0,0, 0,0,0,0,0,1,0,0, 0,0,0,0,0,0,1,1};
int Z[] = {1,1,1,0,0,0,0,1, 1,0,0,1,0,0,0,1, 1,0,0,0,1,0,0,1, 1,0,0,0,0,1,0,1, 1,0,0,0,0,0,1,1};



void setup() {
  Serial.begin(115200); 

  pinMode(HallPin, INPUT_PULLUP);

  for(int i = 0; i < 8; i++) {
    pinMode(ledPins[i], OUTPUT);
    digitalWrite(ledPins[i], LOW);
  }

}

void printLetter(int letter[]) {
  int y;
  int x;
  for (x=0; x<5; x++) {
    for (y=0; y<8; y++) {
      digitalWrite(ledPins[y], letter[y+(8*x)]);
      Serial.print("led: ");
      Serial.println(y + 1);
    }
    delay(1);
  }

  for (y=0; y<8; y++) {
    digitalWrite(ledPins[y], 0);
  }
  delay(2);
}

void loop() {

  static bool lastState = HIGH;
  bool currentState = digitalRead(HallPin);
  static unsigned long LastValue = 0;
  unsigned long time;


  if (lastState == HIGH && currentState == LOW) {
    Serial.println("Magnet Detected");
    unsigned long now = micros();
    
    if (LastValue != 0) {

      time = now - LastValue;
      long wordTime = 78000;
      long startTime = (time - wordTime)/2;
      delayMicroseconds(startTime + (wordTime/2));

      Serial.println("Printing started");
      printLetter(H);
      printLetter(E);
      printLetter(L);
      printLetter(L);
      printLetter(O);
      printLetter(_);
      printLetter(W);
      printLetter(O);
      printLetter(R);
      printLetter(L);
      printLetter(D);
      printLetter(_);
    }

    LastValue = now;

  }

  lastState = currentState;

}\
